import{A as H,Q as J,f as Q,c as _,R as x,S as y,w as U,B as X,aN as F,K as G,C as Y,b as w,o as m,l as d,v as u,T as Z,d as p,e as n,I as ee,j as f,y as te,i as ae,H as ne,h as C,z as h,U as se,s as oe,W as re,u as j,J as A,X as I}from"./CLXblBnL.js";import{_ as ce}from"./DNhEgzz8.js";import{d as le,a as ie,_ as ue,b as me,c as _e,e as de}from"./DEup9VSp.js";import{f as pe}from"./BK7_1pjF.js";import"./1m1goCJg.js";import"./Co947rMz.js";import"./iik6CYzq.js";function N(c,a,s=0){const l={title:"label",path:"to"},t=Object.keys(c).reduce((r,i)=>{if(c[i]){const v=l[i]||i;r[v]=c[i]}return r},{});return Array.isArray(c.children)?t.children=c.children.map(r=>N(r,a,s+1)):t.children=[],t}function fe(c,a){return c.map(s=>N(s,a))}function B(c,a,s){return!c?.length||!a?[]:c.reduce((l,t)=>(a&&(a+"/").startsWith(t.path+"/")&&((a!==t.path||s?.current||s?.indexAsChild)&&l.push(t),t.children&&l.push(...B(t.children.filter(r=>r.path!==t.path||r.path===a&&s?.current&&s?.indexAsChild),a,s))),l),[])}const ge={class:"flex flex-col gap-3 mt-8"},he={class:"flex text-xs text-muted items-center justify-center gap-2"},ve={key:0},xe={key:1},ye={key:2},we={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Ce={class:"text-muted text-center max-w-2xl mx-auto"},be={class:"flex items-center justify-center gap-2 mt-2"},Pe=H({__name:"[...slug]",async setup(c){let a,s;const l=J(),{locale:t}=Q(),r=_(()=>Array.isArray(l.params.slug)?l.params.slug:[l.params.slug]),i=_(()=>x(y(t.value,...r.value))),v=_(()=>`blog_${t.value}`),{data:e}=([a,s]=U(async()=>j(i.value,async()=>{const o=await A(v.value).path(`/${t.value}/blog/${r.value}`).first();return!o&&t.value!=="en"?await A("blog_en").path(x(y("en",...r.value))).first():o},{watch:[t,()=>l.fullPath]})),a=await a,s(),a);if(!e.value)throw X({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:P}=([a,s]=U(async()=>j(`${i.value}-surround`,async()=>{const o=await I(`blog_${t.value}`,i.value,{fields:["description"]});return!o&&t.value!=="en"?await I("blog_en",x(y("en",...r.value)),{fields:["description"]}):o},{watch:[t,()=>l.fullPath]})),a=await a,s(),a),R=F("navigation",G([])),D=_(()=>R.value.find(o=>o.path===`${t.value}/blog`)?.children||[]),S=_(()=>fe(B(D?.value,e.value?.path)).map(({icon:o,...g})=>g));e.value.image?le({url:e.value.image}):ie("Blog",{headline:S.value.map(o=>o.label).join(" > ")},{});const b=e.value?.seo?.title||e.value?.title,$=e.value?.seo?.description||e.value?.description;return Y({title:b,description:$,ogDescription:$,ogTitle:b}),(o,g)=>{const M=ne,V=te,E=se,L=ce,O=me,T=_e,k=de,q=ue,K=ee,W=Z,z=re;return m(),w(z,{class:"mt-20 px-2"},{default:d(()=>[u(W,{class:"relative min-h-screen"},{default:d(()=>[n(e)?(m(),w(K,{key:0},{default:d(()=>[u(V,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:d(()=>[u(M,{name:"lucide:chevron-left"}),g[0]||(g[0]=ae(" Blog ",-1))]),_:1}),f("div",ge,[f("div",he,[n(e).date?(m(),C("span",ve,h(("formatDate"in o?o.formatDate:n(pe))(n(e).date)),1)):p("",!0),n(e).date&&n(e).minRead?(m(),C("span",xe," - ")):p("",!0),n(e).minRead?(m(),C("span",ye,h(n(e).minRead)+" MIN READ ",1)):p("",!0)]),u(E,{src:n(e).image,alt:n(e).title,class:"rounded-lg w-full h-75 object-cover object-center"},null,8,["src","alt"]),f("h1",we,h(n(e).title),1),f("p",Ce,h(n(e).description),1),f("div",be,[u(L,oe({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},n(e).author),null,16)])]),u(q,{class:"max-w-3xl mx-auto"},{default:d(()=>[n(e).body?(m(),w(O,{key:0,value:n(e)},null,8,["value"])):p("",!0),u(T,{type:"article"}),u(k,{surround:n(P)},null,8,["surround"])]),_:1})]),_:1})):p("",!0)]),_:1})]),_:1})}}});export{Pe as default};
