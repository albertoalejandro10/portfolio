import{z as p,bi as ie,m as le,bj as ce,bk as L,bl as ue,K as P,H as w,h as f,I as i,n as b,bm as de,bn as D,_ as pe,y as z,bo as me,ak as A,c as j,e as m,d as k,w as y,aE as G,f as h,at as K,am as B,t as T,L as W,P as Q,F as fe,bp as ge,C as _e,q as ve,aQ as he,aR as M,aU as ye,b8 as be,r as Pe,aV as xe,bq as Ce,aS as N,j as U,l as q,aT as E,br as H,aZ as ke,aW as we,aX as Te,an as $e}from"#entry";import{_ as Ie}from"./D3Fpk2kf.js";import{h as V,M as je}from"./C6O6nDlk.js";import"./iik6CYzq.js";function X(r,o,t=0){const u={title:"label",path:"to"},a=Object.keys(r).reduce((c,d)=>{if(r[d]){const x=u[d]||d;c[x]=r[d]}return c},{});return Array.isArray(r.children)?a.children=r.children.map(c=>X(c,o,t+1)):a.children=[],a}function Se(r,o){return r.map(t=>X(t,o))}const Z=["ProseA","ProseBlockquote","ProseCode","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseHr","ProseImg","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseStrong","ProseTable","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseAccordion","ProseAccordionItem","ProseBadge","ProseCallout","ProseCard","ProseCardGroup","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseField","ProseFieldGroup","ProseIcon","ProseKbd","ProseSteps","ProseTabs","ProseTabsItem","ProseCaution","ProseNote","ProseTip","ProseWarning","Icon"],J=[],Le=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:Z,localComponents:J},Symbol.toStringTag,{value:"Module"})),Ae={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(r){const o=["render","ssrRender","__ssrInlineRender"],t=r,u=!1,a=p(()=>{let n=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(n=t.value.excerpt),n.type==="minimal"||n.type==="minimark"?ie({value:n.value}):n}),c=p(()=>!a.value?.children?.length),d=p(()=>{const{body:n,excerpt:s,...l}=t.value;return{...l,...t.data}}),x=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(n=>[n,`prose-${n}`])),{mdc:e}=le().public||{},$=p(()=>({...e?.components?.prose&&t.prose!==!1?x:{},...e?.components?.map||{},...ce(t.data?.mdc?.components||{}),...t.components})),C=p(()=>a.value?S(a.value,{tags:$.value}):{});function R(n){let s=n;if(typeof n=="string"){if(V.includes(n))return n;if(Z.includes(L(n))?s=de(n,!1):J.includes(L(n))&&(s=D(()=>pe(()=>Promise.resolve().then(()=>Le),void 0,import.meta.url).then(g=>{const _=g[L(n)];return _?_():void 0}))),typeof s=="string")return s}if(!s)return s;const l=s;return"__asyncLoader"in l?l:"setup"in l?D(()=>Promise.resolve(l)):l}function S(n,s){if(!n)return;const l=Array.from(new Set(I(n,s))),v={};for(const[g,_]of l)if(!v[g]){if(typeof _=="object"&&o.some(F=>Object.hasOwnProperty.call(_,F))){v[g]=_;continue}v[g]=R(_)}return v}function I(n,s){const l=n.tag;if(n.type==="text"||l==="binding"||n.type==="comment")return[];const v=O(n,s.tags),g=[];n.type!=="root"&&!V.includes(v)&&g.push([l,v]);for(const _ of n.children||[])g.push(...I(_,s));return g}function O(n,s){const l=n.tag;return!l||typeof n.props?.__ignoreMap<"u"?l:s[l]||s[L(l)]||s[ue(n.tag)]||l}return(n,s)=>c.value?w(n.$slots,"empty",{key:1,body:a.value,data:d.value,dataContentId:i(u)?r.value.id:void 0}):(f(),P(je,{key:0,body:a.value,data:d.value,class:b(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:C.value,"data-content-id":i(u)?r.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Re={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Oe={key:1,class:"hidden lg:block"},Fe=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(r){const o=r,t=z(),[u,a]=me({props:{link:Object,icon:String,direction:String}}),c=p(()=>A({extend:A(Re),...t.ui?.contentSurround||{}})());return(d,x)=>(f(),j(fe,null,[m(i(u),null,{default:y(({link:e,icon:$,direction:C})=>[e?(f(),P(G,{key:0,to:e.path,raw:"",class:b(c.value.link({class:[o.ui?.link,e.ui?.link,e.class],direction:C}))},{default:y(()=>[w(d.$slots,"link",{link:e},()=>[h("div",{class:b(c.value.linkLeading({class:[o.ui?.linkLeading,e.ui?.linkLeading]}))},[w(d.$slots,"link-leading",{link:e},()=>[m(K,{name:e.icon||$,class:b(c.value.linkLeadingIcon({class:[o.ui?.linkLeadingIcon,e.ui?.linkLeadingIcon],direction:C}))},null,8,["name","class"])])],2),h("p",{class:b(c.value.linkTitle({class:[o.ui?.linkTitle,e.ui?.linkTitle]}))},[w(d.$slots,"link-title",{link:e},()=>[B(T(e.title),1)])],2),h("p",{class:b(c.value.linkDescription({class:[o.ui?.linkDescription,e.ui?.linkDescription]}))},[w(d.$slots,"link-description",{link:e},()=>[B(T(e.description),1)])],2)])]),_:2},1032,["to","class"])):(f(),j("span",Oe,"Â "))]),_:3}),r.surround?(f(),P(i(Q),W({key:0,as:r.as},d.$attrs,{class:c.value.root({class:[o.ui?.root,o.class]})}),{default:y(()=>[m(i(a),{link:r.surround[0],icon:r.prevIcon||i(t).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),m(i(a),{link:r.surround[1],icon:r.nextIcon||i(t).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):k("",!0)],64))}}),Ue={base:"mt-8 pb-24 space-y-12"},qe={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(r){const o=r,t=z(),u=p(()=>A({extend:A(Ue),...t.ui?.pageBody||{}}));return(a,c)=>(f(),P(i(Q),{as:r.as,class:b(u.value({class:o.class}))},{default:y(()=>[w(a.$slots,"default")]),_:3},8,["as","class"]))}};function Be(r,o="Copied to clipboard"){const t=ge();navigator.clipboard.writeText(r).then(()=>{t.add({title:o,color:"success",icon:"i-lucide-check-circle"})})}function Y(r,o,t){return!r?.length||!o?[]:r.reduce((u,a)=>(o&&(o+"/").startsWith(a.path+"/")&&((o!==a.path||t?.current||t?.indexAsChild)&&u.push(a),a.children&&u.push(...Y(a.children.filter(c=>c.path!==a.path||c.path===o&&t?.current&&t?.indexAsChild),o,t))),u),[])}const De={class:"flex flex-col gap-3 mt-8"},Me={class:"flex text-xs text-muted items-center justify-center gap-2"},Ne={key:0},Ee={key:1},He={key:2},Ve={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},ze={class:"text-muted text-center max-w-2xl mx-auto"},Ge={class:"flex items-center justify-center gap-2 mt-2"},Ke={class:"flex items-center justify-end gap-2 text-sm text-muted"},Ye=_e({__name:"[...slug]",async setup(r){let o,t;const u=ve(),{locale:a}=he(),c=p(()=>Array.isArray(u.params.slug)?u.params.slug:[u.params.slug]),d=p(()=>U(q(a.value,...c.value))),x=p(()=>`blog_${a.value}`),{data:e}=([o,t]=M(async()=>N(d.value,async()=>{const s=await E(x.value).path(`/${a.value}/blog/${c.value}`).first();return!s&&a.value!=="en"?await E("blog_en").path(U(q("en",...c.value))).first():s},{watch:[a,()=>u.fullPath]})),o=await o,t(),o);if(!e.value)throw ye({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:$}=([o,t]=M(async()=>N(`${d.value}-surround`,async()=>{const s=await H(`blog_${a.value}`,d.value,{fields:["description"]});return!s&&a.value!=="en"?await H("blog_en",U(q("en",...c.value)),{fields:["description"]}):s},{watch:[a,()=>u.fullPath]})),o=await o,t(),o),C=be("navigation",Pe([])),R=p(()=>C.value.find(s=>s.path===`${a.value}/blog`)?.children||[]);p(()=>Se(Y(R?.value,e.value?.path)).map(({icon:s,...l})=>l)),e.value.image;const S=e.value?.seo?.title||e.value?.title,I=e.value?.seo?.description||e.value?.description;xe({title:S,description:I,ogDescription:I,ogTitle:S});const O=p(()=>`${window?.location}`),n=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(s,l)=>{const v=K,g=G,_=Te,F=Ie,ee=Ae,te=$e,ne=Fe,oe=qe,se=we,ae=ke,re=Ce;return f(),P(re,{class:"mt-20 px-2"},{default:y(()=>[m(ae,{class:"relative min-h-screen"},{default:y(()=>[i(e)?(f(),P(se,{key:0},{default:y(()=>[m(g,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:y(()=>[m(v,{name:"lucide:chevron-left"}),l[1]||(l[1]=B(" Blog ",-1))]),_:1}),h("div",De,[h("div",Me,[i(e).date?(f(),j("span",Ne,T(n(i(e).date)),1)):k("",!0),i(e).date&&i(e).minRead?(f(),j("span",Ee," - ")):k("",!0),i(e).minRead?(f(),j("span",He,T(i(e).minRead)+" MIN READ ",1)):k("",!0)]),m(_,{src:i(e).image,alt:i(e).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),h("h1",Ve,T(i(e).title),1),h("p",ze,T(i(e).description),1),h("div",Ge,[m(F,W({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},i(e).author),null,16)])]),m(oe,{class:"max-w-3xl mx-auto"},{default:y(()=>[i(e).body?(f(),P(ee,{key:0,value:i(e)},null,8,["value"])):k("",!0),h("div",Ke,[m(te,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:l[0]||(l[0]=We=>("copyToClipboard"in s?s.copyToClipboard:i(Be))(i(O),"Article link copied to clipboard"))})]),m(ne,{surround:i($)},null,8,["surround"])]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1})}}});export{Ye as default};
