import{z as p,bj as ie,m as le,bk as ce,bl as S,bm as ue,K as b,H as V,h as f,I as i,n as y,bn as de,bo as U,_ as pe,y as G,bp as me,ak as j,c as I,e as m,d as x,w as h,aE as z,f as v,at as K,am as B,t as k,L as W,P as Q,F as fe,bq as ge,C as Pe,q as _e,aQ as ve,aR as q,aU as he,b9 as ye,r as be,aV as Ce,br as De,aS as H,j as O,l as R,aT as M,bs as N,aZ as xe,aW as Ve,aX as ke,an as Te}from"#entry";import{_ as we}from"./D3Fpk2kf.js";import{h as E,M as Ie}from"./ClHyu3sR.js";import"./iik6CYzq.js";function X(a,s,t=0){const u={title:"label",path:"to"},r=Object.keys(a).reduce((c,d)=>{if(a[d]){const C=u[d]||d;c[C]=a[d]}return c},{});return Array.isArray(a.children)?r.children=a.children.map(c=>X(c,s,t+1)):r.children=[],r}function $e(a,s){return a.map(t=>X(t,s))}const Z=["ProseA","ProseBlockquote","ProseCode","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseHr","ProseImg","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseStrong","ProseTable","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseADVue","ProseAccordionDVue","ProseAccordion","ProseAccordionItemDVue","ProseAccordionItem","ProseBadgeDVue","ProseBadge","ProseBlockquoteDVue","ProseCalloutDVue","ProseCallout","ProseCardDVue","ProseCard","ProseCardGroupDVue","ProseCardGroup","ProseCodeDVue","ProseCodeCollapseDVue","ProseCodeCollapse","ProseCodeGroupDVue","ProseCodeGroup","ProseCodeIconDVue","ProseCodeIcon","ProseCodePreviewDVue","ProseCodePreview","ProseCodeTreeDVue","ProseCodeTree","ProseCollapsibleDVue","ProseCollapsible","ProseEmDVue","ProseFieldDVue","ProseField","ProseFieldGroupDVue","ProseFieldGroup","ProseH1DVue","ProseH2DVue","ProseH3DVue","ProseH4DVue","ProseHrDVue","ProseIconDVue","ProseIcon","ProseImgDVue","ProseKbdDVue","ProseKbd","ProseLiDVue","ProseOlDVue","ProsePDVue","ProsePreDVue","ProseScriptDVue","ProseStepsDVue","ProseSteps","ProseStrongDVue","ProseTableDVue","ProseTabsDVue","ProseTabs","ProseTabsItemDVue","ProseTabsItem","ProseTbodyDVue","ProseTdDVue","ProseThDVue","ProseTheadDVue","ProseTrDVue","ProseUlDVue","ProseCautionDVue","ProseCaution","ProseNoteDVue","ProseNote","ProseTipDVue","ProseTip","ProseWarningDVue","ProseWarning","Icon"],J=[],Se=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:Z,localComponents:J},Symbol.toStringTag,{value:"Module"})),je={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(a){const s=["render","ssrRender","__ssrInlineRender"],t=a,u=!1,r=p(()=>{let o=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(o=t.value.excerpt),o.type==="minimal"||o.type==="minimark"?ie({value:o.value}):o}),c=p(()=>!r.value?.children?.length),d=p(()=>{const{body:o,excerpt:n,...l}=t.value;return{...l,...t.data}}),C=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(o=>[o,`prose-${o}`])),{mdc:e}=le().public||{},T=p(()=>({...e?.components?.prose&&t.prose!==!1?C:{},...e?.components?.map||{},...ce(t.data?.mdc?.components||{}),...t.components})),D=p(()=>r.value?$(r.value,{tags:T.value}):{});function L(o){let n=o;if(typeof o=="string"){if(E.includes(o))return o;if(Z.includes(S(o))?n=de(o,!1):J.includes(S(o))&&(n=U(()=>pe(()=>Promise.resolve().then(()=>Se),void 0,import.meta.url).then(g=>{const P=g[S(o)];return P?P():void 0}))),typeof n=="string")return n}if(!n)return n;const l=n;return"__asyncLoader"in l?l:"setup"in l?U(()=>Promise.resolve(l)):l}function $(o,n){if(!o)return;const l=Array.from(new Set(w(o,n))),_={};for(const[g,P]of l)if(!_[g]){if(typeof P=="object"&&s.some(F=>Object.hasOwnProperty.call(P,F))){_[g]=P;continue}_[g]=L(P)}return _}function w(o,n){const l=o.tag;if(o.type==="text"||l==="binding"||o.type==="comment")return[];const _=A(o,n.tags),g=[];o.type!=="root"&&!E.includes(_)&&g.push([l,_]);for(const P of o.children||[])g.push(...w(P,n));return g}function A(o,n){const l=o.tag;return!l||typeof o.props?.__ignoreMap<"u"?l:n[l]||n[S(l)]||n[ue(o.tag)]||l}return(o,n)=>c.value?V(o.$slots,"empty",{key:1,body:r.value,data:d.value,dataContentId:i(u)?a.value.id:void 0}):(f(),b(Ie,{key:0,body:r.value,data:d.value,class:y(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:D.value,"data-content-id":i(u)?a.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Le={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Ae={key:1,class:"hidden lg:block"},Fe=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const s=a,t=G(),[u,r]=me({props:{link:Object,icon:String,direction:String}}),c=p(()=>j({extend:j(Le),...t.ui?.contentSurround||{}})());return(d,C)=>(f(),I(fe,null,[m(i(u),null,{default:h(({link:e,icon:T,direction:D})=>[e?(f(),b(z,{key:0,to:e.path,raw:"",class:y(c.value.link({class:[s.ui?.link,e.ui?.link,e.class],direction:D}))},{default:h(()=>[V(d.$slots,"link",{link:e},()=>[v("div",{class:y(c.value.linkLeading({class:[s.ui?.linkLeading,e.ui?.linkLeading]}))},[V(d.$slots,"link-leading",{link:e},()=>[m(K,{name:e.icon||T,class:y(c.value.linkLeadingIcon({class:[s.ui?.linkLeadingIcon,e.ui?.linkLeadingIcon],direction:D}))},null,8,["name","class"])])],2),v("p",{class:y(c.value.linkTitle({class:[s.ui?.linkTitle,e.ui?.linkTitle]}))},[V(d.$slots,"link-title",{link:e},()=>[B(k(e.title),1)])],2),v("p",{class:y(c.value.linkDescription({class:[s.ui?.linkDescription,e.ui?.linkDescription]}))},[V(d.$slots,"link-description",{link:e},()=>[B(k(e.description),1)])],2)])]),_:2},1032,["to","class"])):(f(),I("span",Ae,"Â "))]),_:3}),a.surround?(f(),b(i(Q),W({key:0,as:a.as},d.$attrs,{class:c.value.root({class:[s.ui?.root,s.class]})}),{default:h(()=>[m(i(r),{link:a.surround[0],icon:a.prevIcon||i(t).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),m(i(r),{link:a.surround[1],icon:a.nextIcon||i(t).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):x("",!0)],64))}}),Oe={base:"mt-8 pb-24 space-y-12"},Re={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(a){const s=a,t=G(),u=p(()=>j({extend:j(Oe),...t.ui?.pageBody||{}}));return(r,c)=>(f(),b(i(Q),{as:a.as,class:y(u.value({class:s.class}))},{default:h(()=>[V(r.$slots,"default")]),_:3},8,["as","class"]))}};function Be(a,s="Copied to clipboard"){const t=ge();navigator.clipboard.writeText(a).then(()=>{t.add({title:s,color:"success",icon:"i-lucide-check-circle"})})}function Y(a,s,t){return!a?.length||!s?[]:a.reduce((u,r)=>(s&&(s+"/").startsWith(r.path+"/")&&((s!==r.path||t?.current||t?.indexAsChild)&&u.push(r),r.children&&u.push(...Y(r.children.filter(c=>c.path!==r.path||c.path===s&&t?.current&&t?.indexAsChild),s,t))),u),[])}const Ue={class:"flex flex-col gap-3 mt-8"},qe={class:"flex text-xs text-muted items-center justify-center gap-2"},He={key:0},Me={key:1},Ne={key:2},Ee={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Ge={class:"text-muted text-center max-w-2xl mx-auto"},ze={class:"flex items-center justify-center gap-2 mt-2"},Ke={class:"flex items-center justify-end gap-2 text-sm text-muted"},Ye=Pe({__name:"[...slug]",async setup(a){let s,t;const u=_e(),{locale:r}=ve(),c=p(()=>Array.isArray(u.params.slug)?u.params.slug:[u.params.slug]),d=p(()=>O(R(r.value,...c.value))),C=p(()=>`blog_${r.value}`),{data:e}=([s,t]=q(async()=>H(d.value,async()=>{const n=await M(C.value).path(`/${r.value}/blog/${c.value}`).first();return!n&&r.value!=="en"?await M("blog_en").path(O(R("en",...c.value))).first():n},{watch:[r,()=>u.fullPath]})),s=await s,t(),s);if(!e.value)throw he({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:T}=([s,t]=q(async()=>H(`${d.value}-surround`,async()=>{const n=await N(`blog_${r.value}`,d.value,{fields:["description"]});return!n&&r.value!=="en"?await N("blog_en",O(R("en",...c.value)),{fields:["description"]}):n},{watch:[r,()=>u.fullPath]})),s=await s,t(),s),D=ye("navigation",be([])),L=p(()=>D.value.find(n=>n.path===`${r.value}/blog`)?.children||[]);p(()=>$e(Y(L?.value,e.value?.path)).map(({icon:n,...l})=>l)),e.value.image;const $=e.value?.seo?.title||e.value?.title,w=e.value?.seo?.description||e.value?.description;Ce({title:$,description:w,ogDescription:w,ogTitle:$});const A=p(()=>`${window?.location}`),o=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(n,l)=>{const _=K,g=z,P=ke,F=we,ee=je,te=Te,oe=Fe,se=Re,ne=Ve,re=xe,ae=De;return f(),b(ae,{class:"mt-20 px-2"},{default:h(()=>[m(re,{class:"relative min-h-screen"},{default:h(()=>[i(e)?(f(),b(ne,{key:0},{default:h(()=>[m(g,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:h(()=>[m(_,{name:"lucide:chevron-left"}),l[1]||(l[1]=B(" Blog ",-1))]),_:1}),v("div",Ue,[v("div",qe,[i(e).date?(f(),I("span",He,k(o(i(e).date)),1)):x("",!0),i(e).date&&i(e).minRead?(f(),I("span",Me," - ")):x("",!0),i(e).minRead?(f(),I("span",Ne,k(i(e).minRead)+" MIN READ ",1)):x("",!0)]),m(P,{src:i(e).image,alt:i(e).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),v("h1",Ee,k(i(e).title),1),v("p",Ge,k(i(e).description),1),v("div",ze,[m(F,W({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},i(e).author),null,16)])]),m(se,{class:"max-w-3xl mx-auto"},{default:h(()=>[i(e).body?(f(),b(ee,{key:0,value:i(e)},null,8,["value"])):x("",!0),v("div",Ke,[m(te,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:l[0]||(l[0]=We=>("copyToClipboard"in n?n.copyToClipboard:i(Be))(i(A),"Article link copied to clipboard"))})]),m(oe,{surround:i(T)},null,8,["surround"])]),_:1})]),_:1})):x("",!0)]),_:1})]),_:1})}}});export{Ye as default};
